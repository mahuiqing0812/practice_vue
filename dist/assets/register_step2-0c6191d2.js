import{h as N,i as v,m as M,K as O,L as U,o as b,b as k,e as s,w as e,g as t,u as a,q as $,M as z,N as E,a as u,O as F,k as n,F as L,d as R,c as A,t as i,p as G,f as K,l as T,_ as j}from"./index-296b56b3.js";const c=p=>(G("data-v-e66fd4e1"),p=p(),K(),p),H={class:"container"},J=c(()=>t("h1",{class:"tip"},"确认挂号信息",-1)),P={class:"card-header"},Q=c(()=>t("span",null,"请选择就诊人",-1)),W={class:"user"},X=c(()=>t("div",{class:"card-header"},[t("span",null,"挂号信息")],-1)),Y=c(()=>t("div",{class:"cell-item"},"就诊日期:",-1)),Z=c(()=>t("div",{class:"cell-item"},"就诊医院:",-1)),ee=c(()=>t("div",{class:"cell-item"},"就诊科室:",-1)),te=c(()=>t("div",{class:"cell-item"},"医生姓名:",-1)),se=c(()=>t("div",{class:"cell-item"},"医生职称:",-1)),ae=c(()=>t("div",{class:"cell-item"},"医生专长:",-1)),le=c(()=>t("div",{class:"cell-item"},"医生服务器:",-1)),oe={style:{color:"red"}},ce={class:"btn"},de=N({__name:"register_step2",setup(p){let q=$(),l=v({}),y=T(),m=v(-1),f=v([]);M(()=>{w(),C()});const w=async()=>{let o=await O();o.code==200&&(f.value=o.data)},C=async()=>{let o=await U(q.query.docId);o.code==200&&(l.value=o.data)},S=o=>{m.value=o},V=async()=>{let o=l.value.hoscode,I=l.value.id,h=f.value[m.value].id,_=await z(o,I,h);_.code==200?y.push({path:"/user/order",query:{orderId:_.data}}):E({type:"error",message:_.message})},B=()=>{y.push({path:"/user/patient",query:{type:"add"}})};return(o,I)=>{const h=u("el-button"),_=u("Visitor"),g=u("el-card"),r=u("el-descriptions-item"),D=u("el-descriptions");return b(),k("div",H,[J,s(g,{class:"box-card"},{header:e(()=>[t("div",P,[Q,s(h,{type:"primary",size:"default",icon:a(F),onClick:B},{default:e(()=>[n("添加就诊人")]),_:1},8,["icon"])])]),default:e(()=>[t("div",W,[(b(!0),k(L,null,R(a(f),(d,x)=>(b(),A(_,{onClick:ne=>S(x),key:d.id,class:"item",user:d,index:x,currentIndex:a(m)},null,8,["onClick","user","index","currentIndex"]))),128))])]),_:1}),s(g,{class:"box-card"},{header:e(()=>[X]),default:e(()=>[s(D,{class:"margin-top",column:2,border:""},{default:e(()=>[s(r,null,{label:e(()=>[Y]),default:e(()=>[n(" "+i(a(l).workDate),1)]),_:1}),s(r,null,{label:e(()=>[Z]),default:e(()=>{var d;return[n(" "+i((d=a(l).param)==null?void 0:d.hosname),1)]}),_:1}),s(r,null,{label:e(()=>[ee]),default:e(()=>{var d;return[n(" "+i((d=a(l).param)==null?void 0:d.depname),1)]}),_:1}),s(r,null,{label:e(()=>[te]),default:e(()=>[n(" "+i(a(l).docname),1)]),_:1}),s(r,null,{label:e(()=>[se]),default:e(()=>[n(" "+i(a(l).title),1)]),_:1}),s(r,null,{label:e(()=>[ae]),default:e(()=>[n(" "+i(a(l).skill),1)]),_:1}),s(r,null,{label:e(()=>[le]),default:e(()=>[t("span",oe,i(a(l).amount),1)]),_:1})]),_:1})]),_:1}),t("div",ce,[s(h,{type:"primary",size:"default",disabled:a(m)==-1,onClick:V},{default:e(()=>[n("确认挂号")]),_:1},8,["disabled"])])])}}});const ie=j(de,[["__scopeId","data-v-e66fd4e1"]]);export{ie as default};
